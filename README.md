# SCP-ArchiveLoader

SCP-ArchiveLoader - это проект, предназначенный для автоматизации архивирования и загрузки файлов на сервер с помощью библиотеки WinSCP

Библиотека WinSCP - представляет собой мощный инструмент для работы с протоколами передачи файлов через сеть, такими как FTP, SFTP, SCP и другими. Она предоставляет .NET-разработчикам удобный способ создания клиентов для передачи файлов на удаленные серверы.

## Как это работает

### `Организация хранения архивов на сервере`

Архивы файлов хранятся на удаленном сервере в директориях с нумерацией по месяцам. Каждая директория имеет название вида "01", "02", "03" и так далее, соответствующее номеру месяца.

Внутри каждой такой директории находятся архивные файлы формата Zip, названные согласно названию месяца, например, "Январь.zip", "Февраль.zip" и так далее. Такая организация позволяет легко находить и обращаться к архивам по месяцам.

Программа состоит из следующих ключевых компонентов:

### `Program.cs`

Этот файл содержит главный метод `Main`, который инициализирует `FileSystemWatcher` для отслеживания добавления новых файлов в заданной директории. При создании нового файла вызывается метод `OnFileCreated`, который инициирует процесс архивации и загрузки.

### `OnFileCreated`

...

### `TransferFilesWithWinSCP`

Метод `TransferFilesWithWinSCP` выполняет передачу архивированных файлов на удаленный сервер с использованием библиотеки WinSCP. Он обеспечивает безопасную и эффективную передачу файлов по протоколу SFTP.

### Параметры

- `destinationZipFilePath`: Путь к архиву, который необходимо передать на удаленный сервер.
- `currentMonth`: Текущий месяц, используется для определения удаленной директории назначения.

## Как использовать

1. Укажите значение `targetDirectory` в `Program.cs`, чтобы указать директорию для отслеживания добавления новых файлов.

2. Найдите и укажите соответствующие значения `sessionOptions` для подключения к удаленному серверу SCP Foundation в методе `TransferFilesWithWinSCP`.

3. Запустите программу. Она будет отслеживать добавление новых файлов в указанной директории и автоматически архивировать и загружать их на сервер.

Зависимости
| №  | Name |
|-----:|-----------|
|     1| .Net 6.0|
|     2| Библиотека WinSCP для работы с протоколом SFTP  |

## Дополнительно
[.NET Core](https://learn.microsoft.com/ru-ru/dotnet/core/introduction) | [Документация WinSCP](https://winscp.net/eng/docs/library)
